policy_out:
  type: object
  properties:
    expense_desired_state:
      type: object
      properties:
        action_description:
          type: string
          maxLength: 255
          description: |
            Describes the what action will taken on the expense.
          example: >-
            The following action(s) will be taken- expense
            violation will be marked, expense amount will be
            changed to 0 USD
        currency:
          type: string
          maxLength: 3
          description: >
            The three-letter currency code following ISO standard
            <a
            href='https://www.iso.org/iso-4217-currency-codes.html'>ISO
            4217</a>
          example: USD
        disable_system_approvers:
          type: boolean
          default: false
          example: false
        failure_reason:
          type: string
          description: |
            Contains the failure reasons.
        is_flagged:
          type: boolean
          description: |
            Indicates whether expense is flagged or not.
          default: false
          example: false
        policy_amount:
          type: number
          example: 10
        policy_approver_ids:
          type: array
          description: |
            Contains list of approver ids.
          items:
            type: string
          example:
            - apd829d92j9w
        policy_rule_descriptions:
          type: array
          description: |
            Contains the list of policy rules description.
          items:
            type: string
          example:
            - This is rule 1
            - This is the rule 2
        policy_run_status:
          type: string
          description: >
            Indicates the status of policy execution, whether it
            got executed or not.
          example: SUCCESS
        is_receipt_required:
          type: boolean
          description: >
            Indicates whether receipt is mandatory or not in this
            policy.
          example: true
        expense_id:
          type: string
          description: |
            Expense Id on which this policy executed.
          example: txu89h890i8
    expense_policy_rule_desired_states:
      type: array
      items:
        type: object
        properties:
          currency:
            type: string
            maxLength: 3
            description: >
              The three-letter currency code following ISO
              standard <a
              href='https://www.iso.org/iso-4217-currency-codes.html'>ISO
              4217</a>
            example: USD
          description:
            type: string
            description: |
              Description of this policy rule.
            example: Receipt needed for expenses above USD 74
          disable_system_approvers:
            type: boolean
            description: >
              Indicates whether to disable system approvers or
              not.
            example: false
          flag:
            type: boolean
            description: |
              Indicates whether expense is flagged or not.
            example: false
          missing_approvers:
            type: array
            description: >
              Contains the missing ids of Approver set for this
              Fyler.
            items:
              type: string
            example:
              - oudh2ue92ue3
              - oue29iwk2p334
          policy_amount:
            type: number
            description: |
              Amount capping set in the policy.
            example: 100
          policy_approver_ids:
            type: array
            description: |
              Contains the ids of Approver set for this Fyler.
            items:
              type: string
            example:
              - oudh2w4ue92u
              - ouvnre29iwk2p
          popup:
            type: boolean
            description: >
              Indicates whether the message is shown in popup
              window or not.
            example: false
          receipt_required:
            type: boolean
            description: >
              Indicates whether receipt is mandatory or not in
              this policy rule.
            example: false
          expense_id:
            type: string
            description: |
              Expense Id on which this policy executed.
            example: txu89h890i8
          expense_policy_rule_id:
            type: string
            description: |
              Expense policy rule id.
            example: tprLjFqDpdjj20
    expense_query_params:
      type: array
      description: |
        Query params present in expense
      items:
        type: string