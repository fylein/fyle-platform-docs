dwolla_customer_out:
  type: object
  additionalProperties: false
  properties:
    id:
      allOf:
        - $ref: './fields.yaml#/id_string'
      example: 'dcm_abc123xyz'
    org_id:
      $ref: './fields.yaml#/org_id'
    created_at:
      $ref: './fields.yaml#/created_at'
    updated_at:
      $ref: './fields.yaml#/updated_at'
    customer_id:
      type: string
      description: |
        The unique Dwolla customer ID
      example: 'dwolla_customer_12345'
    customer_email:
      type: string
      nullable: true
      description: |
        Email address associated with the Dwolla customer
      example: 'employee@company.com'
    customer_added_by:
      type: string
      description: |
        User ID of the person who added the Dwolla customer
      example: 'user_xyz789'
    is_customer_verified:
      type: boolean
      description: |
        Indicates whether the customer has been verified in Dwolla
      default: false
      example: true
    is_beneficial_owner_added:
      type: boolean
      description: |
        Indicates whether a beneficial owner has been added
      default: false
      example: false
    is_beneficial_owner_verified:
      type: boolean
      description: |
        Indicates whether the beneficial owner has been verified
      default: false
      example: false
    is_bank_account_added:
      type: boolean
      description: |
        Indicates whether a bank account has been added
      default: false
      example: true
    is_bank_account_verified:
      type: boolean
      description: |
        Indicates whether the bank account has been verified
      default: false
      example: false
    bank_account_added_by:
      type: string
      nullable: true
      description: |
        User ID of the person who added the bank account
      example: 'user_xyz789'
    is_customer_document_needed:
      type: boolean
      description: |
        Indicates whether customer documentation is needed
      default: false
      example: false
    is_beneficial_owner_document_needed:
      type: boolean
      description: |
        Indicates whether beneficial owner documentation is needed
      default: false
      example: false
    is_customer_retry:
      type: boolean
      description: |
        Indicates whether customer verification needs to be retried
      default: false
      example: false
    is_customer_suspended:
      type: boolean
      description: |
        Indicates whether the customer account is suspended
      default: false
      example: false
    micro_deposit_verification_status:
      type: string
      nullable: true
      description: |
        Status of micro-deposit verification
      enum:
        - pending
        - verified
        - failed
      example: 'verified'
    micro_deposit_verification_attempts:
      type: integer
      nullable: true
      description: |
        Number of micro-deposit verification attempts
      example: 2
    is_beneficial_owner_retry:
      type: boolean
      description: |
        Indicates whether beneficial owner verification needs to be retried
      default: false
      example: false

spender_dwolla_customer_out:
  allOf:
    - $ref: '#/dwolla_customer_out'
    - type: object
      additionalProperties: false
      properties:
        is_org_customer_verified:
          type: boolean
          description: |
            Indicates whether org's dwolla account is verified or not.
          default: false
          example: true

dwolla_customer_in:
  type: object
  additionalProperties: false
  properties:
    customer_id:
      type: string
      description: |
        The unique Dwolla customer ID (required for CREATE operations)
      example: 'dwolla_customer_12345'
    customer_email:
      type: string
      nullable: true
      description: |
        Email address associated with the Dwolla customer
      example: 'employee@company.com'
    customer_added_by:
      type: string
      description: |
        User ID of the person who added the Dwolla customer (required for CREATE operations)
      example: 'user_xyz789'
    is_customer_verified:
      type: boolean
      description: |
        Indicates whether the customer has been verified in Dwolla
      default: false
      example: true
    is_beneficial_owner_added:
      type: boolean
      description: |
        Indicates whether a beneficial owner has been added
      default: false
      example: false
    is_beneficial_owner_verified:
      type: boolean
      description: |
        Indicates whether the beneficial owner has been verified
      default: false
      example: false
    is_bank_account_added:
      type: boolean
      description: |
        Indicates whether a bank account has been added
      default: false
      example: true
    is_bank_account_verified:
      type: boolean
      description: |
        Indicates whether the bank account has been verified
      default: false
      example: false
    bank_account_added_by:
      type: string
      nullable: true
      description: |
        User ID of the person who added the bank account
      example: 'user_xyz789'
    is_customer_document_needed:
      type: boolean
      description: |
        Indicates whether customer documentation is needed
      default: false
      example: false
    is_beneficial_owner_document_needed:
      type: boolean
      description: |
        Indicates whether beneficial owner documentation is needed
      default: false
      example: false
    is_customer_retry:
      type: boolean
      description: |
        Indicates whether customer verification needs to be retried
      default: false
      example: false
    is_customer_suspended:
      type: boolean
      description: |
        Indicates whether the customer account is suspended
      default: false
      example: false
    micro_deposit_verification_status:
      type: string
      nullable: true
      description: |
        Status of micro-deposit verification
      enum:
        - pending
        - verified
        - failed
      example: 'verified'
    micro_deposit_verification_attempts:
      type: integer
      nullable: true
      description: |
        Number of micro-deposit verification attempts
      example: 2
    is_beneficial_owner_retry:
      type: boolean
      description: |
        Indicates whether beneficial owner verification needs to be retried
      default: false
      example: false


