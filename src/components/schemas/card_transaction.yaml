card_transaction_out:
  type: object
  properties:
    id:
      allOf:
        - $ref: './fields.yaml#/id_string'
      example: btxnwownwrng
    org_id:
      $ref: './fields.yaml#/org_id'
    user_id:
      $ref: './fields.yaml#/user_id'
    user:
      $ref: './user.yaml#/user_out_embed'
    created_at:
      $ref: './fields.yaml#/created_at'
    updated_at:
      $ref: './fields.yaml#/updated_at'
    amount:
      $ref: './fields.yaml#/amount'
    currency:
      $ref: './fields.yaml#/currency'
    spent_at:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      description: |
        signifies when this card transaction was made.
        This date cannot be in future.
    description:
      type: string
      nullable: true
      description: |
        Holds the description of the card transaction
      example: Team lunch
    foreign_currency:
      $ref: './fields.yaml#/foreign_currency'
    foreign_amount:
      $ref: './fields.yaml#/foreign_amount'
    code:
      $ref: './fields.yaml#/code'
    merchant:
      type: string
      maxLength: 255
      nullable: true
      description: |
        String denoting the name of the vendor to which the card transaction was made.
        Note: This is not same as the merchant added in Fyle but just a string
      example: Uber
    category:
      type: string
      maxLength: 255
      nullable: true
      description: |
        String denoting the category of the card transaction
        Note: This is not same as the category added in Fyle but just a string
      example: Travel
    card_id:
      allOf:
        - $ref: './fields.yaml#/id_string'
      example: bawownwrng
    settlement_id:
      nullable: true
      allOf:
        - $ref: './fields.yaml#/id_string'
      example: set7oisw24gju

    assignor_user_id:
      type: string
      description: |
        The unique id of an user who assigned the card transaction.
      nullable: true
      example: uswjwgnwwgo
    assignor:
      $ref: './user.yaml#/user_out_embed'
    is_assigned:
      type: boolean
      description: |
        Determines whether this card transaction is assigned.
    last_assigned_at:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      nullable: true
      description: |
        Signifies when this card transaction was last assigned.
    is_personal_transaction:
      type: boolean
      example: false
      description: |
        Determines whether this card transaction is marked as personal transaction made on the corporate card.
    last_personal_transaction_at:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      nullable: true
      description: |
        Signifies when this card transaction was last marked personal.
    is_dismissed:
      type: boolean
      example: false
      description: |
        Determines whether this card transaction is dismissed.
    last_dismissed_at:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      nullable: true
      description: |
        Signifies when this card transaction was last dismissed.
    is_auto_matched:
      type: boolean
      example: false
      description: |
        Signifies when this card transaction is auto_matched.
    auto_matched_expense_ids:
      type: array
      items:
        $ref: './fields.yaml#/id_string'
      example:
        - txwownwrng
    user_matched_expense_ids:
      type: array
      items:
        $ref: './fields.yaml#/id_string'
      example:
        - txwownwrn2
    is_settled:
      type: boolean
      description: |
        Determines whether this card transaction is settled.
    last_settled_at:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      nullable: true
      description: |
        Signifies when this card transaction was last settled.

    # metadata


card_transaction_in:
  type: object
  properties:
    id:
      allOf:
        - $ref: './fields.yaml#/id_string'
      example: btxnwownwrng
    org_id:
      $ref: './fields.yaml#/org_id'
    user_id:
      $ref: './fields.yaml#/user_id'
    created_at:
      $ref: './fields.yaml#/created_at'
    updated_at:
      $ref: './fields.yaml#/updated_at'
    amount:
      $ref: './fields.yaml#/amount'
    currency:
      $ref: './fields.yaml#/currency'
    spent_at:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      description: |
        signifies when this card transaction was made.
        This date cannot be in future.
    description:
      type: string
      nullable: true
      description: |
        Holds the description of the card transaction
      example: Team lunch
    foreign_currency:
      $ref: './fields.yaml#/foreign_currency'
    foreign_amount:
      $ref: './fields.yaml#/foreign_amount'
    code:
      $ref: './fields.yaml#/code'
    merchant:
      type: string
      maxLength: 255
      nullable: true
      description: |
        String denoting the name of the vendor to which the card transaction was made.
        Note: This is not same as the merchant added in Fyle but just a string
      example: Uber
    category:
      type: string
      maxLength: 255
      nullable: true
      description: |
        String denoting the category of the card transaction
        Note: This is not same as the category added in Fyle but just a string
      example: Travel
    card_id:
      allOf:
        - $ref: './fields.yaml#/id_string'
      example: bawownwrng
    user_matched_expense_ids:
      type: array
      items:
        $ref: './fields.yaml#/id_string'
      example:
        - txwownwrn2

card_transaction_assign_in:
  type: object
  properties:
    id:
      allOf:
        - $ref: './fields.yaml#/id_string'
      example: btxnwownwrng
    user_id:
      type: string
      description: |
        The unique id of an user to whom the card should be assigned.
      example: uswjwgnwwgo

card_transaction_unassign_in:
  type: object 
  properties:
    id:
      allOf:
        - $ref: './fields.yaml#/id_string'
      example: btxnwownwrng
    user_id:
      type: string
      description: |
        The unique id of an user to whom the card is assigned.
      example: uswjwgnwwgo

