amex_account_in:
  type: object
  additionalProperties: false
  properties:
    id:
      $ref: './fields.yaml#/id_string'
      example: 'amacwbl222wlg'
      nullable: true
    created_at:
      $ref: './fields.yaml#/created_at'
      nullable: true
    updated_at:
      $ref: './fields.yaml#/updated_at'
      nullable: true
    user_id:
      $ref: './fields.yaml#/user_id'
      nullable: true
    org_id:
      $ref: './fields.yaml#/org_id'
      nullable: true
    business_name:
      type: string
      description: |
        The name of the business.
      example: 'Abcd Inc.'
    phone:
      type: object
      properties:
        country_code:
          type: string
          description: |
            The country code of the phone number.
          example: '001'
        number:
          type: string
          description: |
            The phone number of the business.
          example: '1232938490'
    address:
      type: object
      properties:
        line1:
          type: string
          description: |
            The address of the organization.
          example: '123 Main St.'
        line2:
          type: string
          description: |
            The address line two of the organization, if applicable.
          nullable: true
          example: 'Suite A'
        city:
          type: string
          description: |
            The city of the organzation's address.
          example: 'San Francisco'
        state:
          type: string
          description: |
            The state of the organzation's address.
          example: 'CA'
        country:
          type: string
          description: |
            The country of the organzation's address.
          example: 'US'
        postal_code:
          type: string
          description: |
            The postal code of the organzation's address.
          example: '12345'
    email_address:
      type: string
      description: |
        The email address of the business.
      example: test@best.com
amex_account_out:
  type: object
  additionalProperties: false
  properties:
    id:
      $ref: './fields.yaml#/id_string'
      example: 'amacwbl222wlg'
    created_at:
      $ref: './fields.yaml#/created_at'
    updated_at:
      $ref: './fields.yaml#/updated_at'
    user_id:
      $ref: './fields.yaml#/user_id'
      nullable: true
    org_id:
      $ref: './fields.yaml#/org_id'
      nullable: true
    business_name:
      type: string
      description: |
        The name of the business.
      example: 'Abcd Inc.'
    phone:
      type: object
      properties:
        country_code:
          type: string
          description: |
            The country code of the phone number.
          example: '001'
        number:
          type: string
          description: |
            The phone number of the business.
          example: '1232938490'
    address:
      type: object
      properties:
        line1:
          type: string
          description: |
            The address of the organization.
          example: '123 Main St.'
        line2:
          type: string
          description: |
            The address line two of the organization, if applicable.
          nullable: true
          example: 'Suite A'
        city:
          type: string
          description: |
            The city of the organzation's address.
          example: 'San Francisco'
        state:
          type: string
          description: |
            The state of the organzation's address.
          example: 'CA'
        country:
          type: string
          description: |
            The country of the organzation's address.
          example: 'US'
        postal_code:
          type: string
          description: |
            The postal code of the organzation's address.
          example: '12345'
    email_address:
      type: string
      description: |
        The email address of the business.
      example: test@best.com
    buyer_id:
      type: string
      description: |
        The unique buyer id created for the organization by Amex.
      example: obasdfasdfasdfds
    widget_url:
      type: string
      description: |
        The url of the widget to be embedded in the client application.
      example: https://amex.com/asdfdsf
    account_last_synced_at:
      $ref: './fields.yaml#/timestamptz_utc'
      nullable: true
      description: |
        Signifies when this card account was last synced at.
    primary_account_number:
      type: string
      nullable: true
      description: |
        The last 5 digits primary card account number.
      example: '33456'
    account_verified_at:
      $ref: './fields.yaml#/timestamptz_utc'
      nullable: true
      description: |
        Signifies when this card account was verified at.
    account_status:
      type: string
      enum:
        - PENDING
        - SUCCESS
        - UNINITIALIZED
        - FAILED
        - DELETED
      description: |
        The status of the card account.
      example: ACTIVE
    account_error_message:
      type: string
      nullable: true
      description: |
        The error description provided by Amex on unsuccessfull account enrollment.
      example: 'Invalid credentials'
    account_id:
      type: string
      nullable: true
      description: |
        The unique id for the card account provided by Amex.
      example: 'acwbl222wlg'
    account_error_code:
      type: string
      nullable: true
      description: |
        The error code provided by Amex on unsuccessfull account enrollment.
      example: '1023'
    account_failed_at:
      $ref: './fields.yaml#/timestamptz_utc'
      nullable: true
      description: |
        Signifies when this card account was failed on unsuccessfull account enrollment.
    