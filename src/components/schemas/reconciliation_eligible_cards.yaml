reconciliation_eligible_card_out:
  type: object
  additionalProperties: false
  required:
    - id
    - org_id
    - reconciliation_entry_id
    - card_number
    - card_nickname
    - user
    - reconciled_on
    - statement_transaction_count
    - expense_count
    - statement_total
    - expense_total
    - matching_issue_count
    - status
  properties:
    org_id:
      $ref: './fields.yaml#/org_id'
    reconciliation_entry_id:
      allOf:
        - $ref: './fields.yaml#/id_string'
      example: receabc12345
      description: Reconciliation entry id for which the card is eligible.
    id:
      allOf:
        - $ref: './fields.yaml#/id_string'
      example: ecc123abc
      description: Unique id of the eligible card record.
    card_number:
      $ref: './fields.yaml#/card_number'
    card_nickname:
      type: string
      nullable: true
      maxLength: 25
      description: Unique nickname assigned to the card.
      example: Business Card
    user:
      $ref: './user.yaml#/user_out_embed_nullable'
    reconciled_on:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      nullable: true
      description: Date when reconciliation was completed for this card in the entry.
    statement_transaction_count:
      type: integer
      example: 3
      description: Number of statement transactions for the card within the entry period.
    expense_count:
      type: integer
      example: 2
      description: Number of matched expenses for the card within the entry period.
    statement_total:
      allOf:
        - $ref: './fields.yaml#/amount'
      nullable: true
      description: Sum of statement transaction amounts for the card (nullable).
      example: 45
    expense_total:
      allOf:
        - $ref: './fields.yaml#/amount'
      nullable: true
      description: Sum of matched expense amounts for the card (nullable).
      example: 24
    matching_issue_count:
      type: integer
      example: 3
      description: Number of matching issues identified for this card within the entry period.
    status:
      type: string
      description: Current reconciliation eligibility status for this card.
      example: RECONCILED
