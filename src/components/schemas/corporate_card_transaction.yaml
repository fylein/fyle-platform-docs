corporate_card_transaction_out:
  type: object
  properties:
    id:
      allOf:
        - $ref: './fields.yaml#/id_string'
      example: btxnwownwrng
    org_id:
      $ref: './fields.yaml#/org_id'
    user_id:
      $ref: './fields.yaml#/user_id'
    user:
      $ref: './user.yaml#/user_out_embed'
    created_at:
      $ref: './fields.yaml#/created_at'
    updated_at:
      $ref: './fields.yaml#/updated_at'
    amount:
      $ref: './fields.yaml#/amount'
    currency:
      $ref: './fields.yaml#/currency'
    spent_at:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      description: |
        signifies when this card transaction was made.
        This date cannot be in future.
    description:
      type: string
      nullable: true
      description: |
        Holds the description of the card transaction
      example: Team lunch
    foreign_currency:
      $ref: './fields.yaml#/foreign_currency'
    foreign_amount:
      $ref: './fields.yaml#/foreign_amount'
    code:
      $ref: './fields.yaml#/code'
    merchant:
      type: string
      maxLength: 255
      nullable: true
      description: |
        String denoting the name of the vendor to which the card transaction was made.
        Note: This is not same as the merchant added in Fyle but just a string
      example: Uber
    category:
      type: string
      maxLength: 255
      nullable: true
      description: |
        String denoting the category of the card transaction
        Note: This is not same as the category added in Fyle but just a string
      example: Travel
    corporate_card_id:
      allOf:
        - $ref: './fields.yaml#/id_string'
      example: bawownwrng
    corporate_card:
      $ref: './corporate_card.yaml#/corporate_card_out_embed'
    settlement_id:
      nullable: true
      allOf:
        - $ref: './fields.yaml#/id_string'
      example: set7oisw24gju
    assignor_user_id:
      type: string
      description: |
        The unique id of an user who assigned the card transaction.
      nullable: true
      example: uswjwgnwwgo
    assignor:
      $ref: './user.yaml#/user_out_embed'
    is_assigned:
      type: boolean
      description: |
        Determines whether this card transaction is assigned.
    last_assigned_at:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      nullable: true
      description: |
        Signifies when this card transaction was last assigned.
    is_personal_transaction:
      type: boolean
      example: false
      description: |
        Determines whether this card transaction is marked as personal transaction made on the corporate card.
    last_personal_transaction_at:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      nullable: true
      description: |
        Signifies when this card transaction was last marked personal.
    is_dismissed:
      type: boolean
      example: false
      description: |
        Determines whether this card transaction is dismissed.
    last_dismissed_at:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      nullable: true
      description: |
        Signifies when this card transaction was last dismissed.
    is_auto_matched:
      type: boolean
      example: false
      description: |
        Signifies when this card transaction is auto_matched.
    auto_matched_expense_ids:
      type: array
      items:
        $ref: './fields.yaml#/id_string'
      description: |
        Holds the expense ids which are auto-matically matched by the system
      example:
        - txwownwrng
    auto_matched_expenses:
      type: array
      items:
        $ref: './expense.yaml#/matched_expense_out_embed'
    last_auto_matched_at:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      nullable: true
      description: |
        signifies when this expense was auto matched.
    user_matched_expense_ids:
      type: array
      items:
        $ref: './fields.yaml#/id_string'
      description: |
        Holds the expense ids which are matched by the user
      example:
        - txwownwrn2
    user_matched_expenses:
      type: array
      items:
        $ref: './expense.yaml#/matched_expense_out_embed'
    last_user_matched_at:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      nullable: true
      description: |
        signifies when this expense was last matched by user.
    is_settled:
      type: boolean
      description: |
        Determines whether this card transaction is settled.
    last_settled_at:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      nullable: true
      description: |
        Signifies when this card transaction was last settled.

    # metadata
    merchant_category_code:
      $ref: './additional_detail.yaml#/string_detail'
    flight_merchant_category_code:
      $ref: './additional_detail.yaml#/string_detail'
    flight_supplier_name:
      $ref: './additional_detail.yaml#/string_detail'
    flight_travel_agency_name:
      $ref: './additional_detail.yaml#/string_detail'
    flight_ticket_number:
      $ref: './additional_detail.yaml#/string_detail'
    flight_total_fare:
      $ref: './additional_detail.yaml#/double_precision_detail'
    flight_scheduled_at:
      $ref: './additional_detail.yaml#/timestamp_detail'
    flight_service_class:
      $ref: './additional_detail.yaml#/string_detail'
    flight_carrier_code:
      $ref: './additional_detail.yaml#/string_detail'
    flight_fare_base_code:
      $ref: './additional_detail.yaml#/string_detail'
    flight_trip_leg_number:
      $ref: './additional_detail.yaml#/string_detail'
    hotel_merchant_category_code:
      $ref: './additional_detail.yaml#/string_detail'
    hotel_supplier_name:
      $ref: './additional_detail.yaml#/string_detail'
    hotel_checked_in_at:
      $ref: './additional_detail.yaml#/timestamp_detail'
    hotel_nights:
      $ref: './additional_detail.yaml#/integer_detail'
    hotel_checked_out_at:
      $ref: './additional_detail.yaml#/timestamp_detail'
    hotel_country:
      $ref: './additional_detail.yaml#/string_detail'
    hotel_city:
      $ref: './additional_detail.yaml#/string_detail'
    hotel_total_fare:
      $ref: './additional_detail.yaml#/double_precision_detail'
    fleet_product_merchant_category_code:
      $ref: './additional_detail.yaml#/string_detail'
    fleet_product_supplier_name:
      $ref: './additional_detail.yaml#/string_detail'
    fleet_service_merchant_category_code:
      $ref: './additional_detail.yaml#/string_detail'
    fleet_service_supplier_name:
      $ref: './additional_detail.yaml#/string_detail'
    car_rental_merchant_category_code:
      $ref: './additional_detail.yaml#/string_detail'
    car_rental_supplier_name:
      $ref: './additional_detail.yaml#/string_detail'
    car_rental_started_at:
      $ref: './additional_detail.yaml#/timestamp_detail'
    car_rental_days:
      $ref: './additional_detail.yaml#/integer_detail'
    car_rental_ended_at:
      $ref: './additional_detail.yaml#/timestamp_detail'
    general_ticket_issued_at:
      $ref: './additional_detail.yaml#/timestamp_detail'
    general_ticket_number:
      $ref: './additional_detail.yaml#/string_detail'
    general_issuing_carrier:
      $ref: './additional_detail.yaml#/string_detail'
    general_travel_agency_name:
      $ref: './additional_detail.yaml#/string_detail'
    general_travel_agency_code:
      $ref: './additional_detail.yaml#/string_detail'
    general_ticket_total_fare:
      $ref: './additional_detail.yaml#/double_precision_detail'
    general_ticket_total_tax:
      $ref: './additional_detail.yaml#/double_precision_detail'
    merchant_address:
      $ref: './additional_detail.yaml#/text_detail'
  required:
    - id
    - org_id
    - user_id
    - user
    - created_at
    - updated_at
    - amount
    - currency
    - spent_at
    - description
    - foreign_currency
    - foreign_amount
    - code
    - merchant
    - category
    - corporate_card_id
    - corporate_card
    - settlement_id
    - assignor_user_id
    - assignor
    - is_assigned
    - last_assigned_at
    - is_personal_transaction
    - last_personal_transaction_at
    - is_dismissed
    - last_dismissed_at
    - is_auto_matched
    - auto_matched_expense_ids
    - auto_matched_expenses
    - auto_matched_at
    - user_matched_expense_ids
    - user_matched_expenses
    - last_user_matched_at
    - is_settled
    - last_settled_at
    - merchant_category_code
    - flight_merchant_category_code
    - flight_supplier_name
    - flight_travel_agency_name
    - flight_ticket_number
    - flight_total_fare
    - flight_scheduled_at
    - flight_service_class
    - flight_carrier_code
    - flight_fare_base_code
    - flight_trip_leg_number
    - hotel_merchant_category_code
    - hotel_supplier_name
    - hotel_checked_in_at
    - hotel_nights
    - hotel_checked_out_at
    - hotel_country
    - hotel_city
    - hotel_total_fare
    - fleet_product_merchant_category_code
    - fleet_product_supplier_name
    - fleet_service_merchant_category_code
    - fleet_service_supplier_name
    - car_rental_merchant_category_code
    - car_rental_supplier_name
    - car_rental_started_at
    - car_rental_days
    - car_rental_ended_at
    - general_ticket_issued_at
    - general_ticket_number
    - general_issuing_carrier
    - general_travel_agency_name
    - general_travel_agency_code
    - general_ticket_total_fare
    - general_ticket_total_tax
    - merchant_address

corporate_card_transaction_in:
  type: object
  properties:
    id:
      allOf:
        - $ref: './fields.yaml#/id_string'
      example: btxnwownwrng
    amount:
      $ref: './fields.yaml#/amount'
    currency:
      $ref: './fields.yaml#/currency'
    spent_at:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      description: |
        signifies when this card transaction was made.
        This date cannot be in future.
      required: true
    description:
      type: string
      nullable: true
      description: |
        Holds the description of the card transaction
      example: Team lunch
    foreign_currency:
      $ref: './fields.yaml#/foreign_currency'
    foreign_amount:
      $ref: './fields.yaml#/foreign_amount'
    code:
      $ref: './fields.yaml#/code'
    merchant:
      type: string
      maxLength: 255
      nullable: true
      description: |
        String denoting the name of the vendor to which the card transaction was made.
        Note: This is not same as the merchant added in Fyle but just a string
      example: Uber
    category:
      type: string
      maxLength: 255
      nullable: true
      description: |
        String denoting the category of the card transaction
        Note: This is not same as the category added in Fyle but just a string
      example: Travel
    corporate_card_id:
      allOf:
        - $ref: './fields.yaml#/id_string'
      example: bawownwrng

    # metadata
    merchant_category_code:
      $ref: './additional_detail.yaml#/string_detail'
    flight_merchant_category_code:
      $ref: './additional_detail.yaml#/string_detail'
    flight_supplier_name:
      $ref: './additional_detail.yaml#/string_detail'
    flight_travel_agency_name:
      $ref: './additional_detail.yaml#/string_detail'
    flight_ticket_number:
      $ref: './additional_detail.yaml#/string_detail'
    flight_total_fare:
      $ref: './additional_detail.yaml#/double_precision_detail'
    flight_scheduled_at:
      $ref: './additional_detail.yaml#/timestamp_detail'
    flight_service_class:
      $ref: './additional_detail.yaml#/string_detail'
    flight_carrier_code:
      $ref: './additional_detail.yaml#/string_detail'
    flight_fare_base_code:
      $ref: './additional_detail.yaml#/string_detail'
    flight_trip_leg_number:
      $ref: './additional_detail.yaml#/string_detail'
    hotel_merchant_category_code:
      $ref: './additional_detail.yaml#/string_detail'
    hotel_supplier_name:
      $ref: './additional_detail.yaml#/string_detail'
    hotel_checked_in_at:
      $ref: './additional_detail.yaml#/timestamp_detail'
    hotel_nights:
      $ref: './additional_detail.yaml#/integer_detail'
    hotel_checked_out_at:
      $ref: './additional_detail.yaml#/timestamp_detail'
    hotel_country:
      $ref: './additional_detail.yaml#/string_detail'
    hotel_city:
      $ref: './additional_detail.yaml#/string_detail'
    hotel_total_fare:
      $ref: './additional_detail.yaml#/double_precision_detail'
    fleet_product_merchant_category_code:
      $ref: './additional_detail.yaml#/string_detail'
    fleet_product_supplier_name:
      $ref: './additional_detail.yaml#/string_detail'
    fleet_service_merchant_category_code:
      $ref: './additional_detail.yaml#/string_detail'
    fleet_service_supplier_name:
      $ref: './additional_detail.yaml#/string_detail'
    car_rental_merchant_category_code:
      $ref: './additional_detail.yaml#/string_detail'
    car_rental_supplier_name:
      $ref: './additional_detail.yaml#/string_detail'
    car_rental_started_at:
      $ref: './additional_detail.yaml#/timestamp_detail'
    car_rental_days:
      $ref: './additional_detail.yaml#/integer_detail'
    car_rental_ended_at:
      $ref: './additional_detail.yaml#/timestamp_detail'
    general_ticket_issued_at:
      $ref: './additional_detail.yaml#/timestamp_detail'
    general_ticket_number:
      $ref: './additional_detail.yaml#/string_detail'
    general_issuing_carrier:
      $ref: './additional_detail.yaml#/string_detail'
    general_travel_agency_name:
      $ref: './additional_detail.yaml#/string_detail'
    general_travel_agency_code:
      $ref: './additional_detail.yaml#/string_detail'
    general_ticket_total_fare:
      $ref: './additional_detail.yaml#/double_precision_detail'
    general_ticket_total_tax:
      $ref: './additional_detail.yaml#/double_precision_detail'
    merchant_address:
      $ref: './additional_detail.yaml#/text_detail'
  required:
    - amount
    - currency
    - spent_at
    - corporate_card_id

corporate_card_transaction_assign_in:
  type: object
  properties:
    id:
      allOf:
        - $ref: './fields.yaml#/id_string'
      example: btxnwownwrng
    user_id:
      type: string
      description: |
        The unique id of an user to whom the card transaction should be assigned.
      example: uswjwgnwwgo
  required:
    - id
    - user_id

corporate_card_transaction_unassign_in:
  type: object 
  properties:
    id:
      allOf:
        - $ref: './fields.yaml#/id_string'
      example: btxnwownwrng
    user_id:
      type: string
      description: |
        The unique id of an user to whom the card transaction is assigned.
      example: uswjwgnwwgo
  required:
    - id
    - user_id

corporate_card_transaction_unassign_out:
  type: object
  properties:
    id:
      allOf:
        - $ref: './fields.yaml#/id_string'
      example: btxnwownwrng
    org_id:
      $ref: './fields.yaml#/org_id'
    user_id:
      type: string
      description: |
        The unique id of an user to which the object is associated.
      readOnly: true
      example: null
    user:
      example: null
    created_at:
      $ref: './fields.yaml#/created_at'
    updated_at:
      $ref: './fields.yaml#/updated_at'
    amount:
      $ref: './fields.yaml#/amount'
    currency:
      $ref: './fields.yaml#/currency'
    spent_at:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      description: |
        signifies when this card transaction was made.
        This date cannot be in future.
    description:
      type: string
      nullable: true
      description: |
        Holds the description of the card transaction
      example: Team lunch
    foreign_currency:
      $ref: './fields.yaml#/foreign_currency'
    foreign_amount:
      $ref: './fields.yaml#/foreign_amount'
    code:
      $ref: './fields.yaml#/code'
    merchant:
      type: string
      maxLength: 255
      nullable: true
      description: |
        String denoting the name of the vendor to which the card transaction was made.
        Note: This is not same as the merchant added in Fyle but just a string
      example: Uber
    category:
      type: string
      maxLength: 255
      nullable: true
      description: |
        String denoting the category of the card transaction
        Note: This is not same as the category added in Fyle but just a string
      example: Travel
    corporate_card_id:
      allOf:
        - $ref: './fields.yaml#/id_string'
      example: bawownwrng
    corporate_card:
      $ref: './corporate_card.yaml#/corporate_card_out_embed'
    settlement_id:
      nullable: true
      allOf:
        - $ref: './fields.yaml#/id_string'
      example: set7oisw24gju
    assignor_user_id:
      type: string
      description: |
        The unique id of an user who assigned the card transaction.
      nullable: true
      example: null
    assignor:
      example: null
    is_assigned:
      type: boolean
      description: |
        Determines whether this card transaction is assigned.
    last_assigned_at:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      nullable: true
      description: |
        Signifies when this card transaction was last assigned.
    is_personal_transaction:
      type: boolean
      example: false
      description: |
        Determines whether this card transaction is marked as personal transaction made on the corporate card.
    last_personal_transaction_at:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      nullable: true
      description: |
        Signifies when this card transaction was last marked personal.
    is_dismissed:
      type: boolean
      example: false
      description: |
        Determines whether this card transaction is dismissed.
    last_dismissed_at:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      nullable: true
      description: |
        Signifies when this card transaction was last dismissed.
    is_auto_matched:
      type: boolean
      example: false
      description: |
        Signifies when this card transaction is auto_matched.
    auto_matched_expense_ids:
      type: array
      items:
        $ref: './fields.yaml#/id_string'
      description: |
        Holds the expense ids which are auto-matically matched by the system
      example:
        - txwownwrng
    auto_matched_expenses:
      type: array
      items:
        $ref: './expense.yaml#/matched_expense_out_embed'
    last_auto_matched_at:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      nullable: true
      description: |
        signifies when this expense was auto matched.
    user_matched_expense_ids:
      type: array
      items:
        $ref: './fields.yaml#/id_string'
      description: |
        Holds the expense ids which are matched by the user
      example:
        - txwownwrn2
    user_matched_expenses:
      type: array
      items:
        $ref: './expense.yaml#/matched_expense_out_embed'
    last_user_matched_at:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      nullable: true
      description: |
        signifies when this expense was last matched by user.
    is_settled:
      type: boolean
      description: |
        Determines whether this card transaction is settled.
    last_settled_at:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      nullable: true
      description: |
        Signifies when this card transaction was last settled.

    # metadata
    merchant_category_code:
      $ref: './additional_detail.yaml#/string_detail'
    flight_merchant_category_code:
      $ref: './additional_detail.yaml#/string_detail'
    flight_supplier_name:
      $ref: './additional_detail.yaml#/string_detail'
    flight_travel_agency_name:
      $ref: './additional_detail.yaml#/string_detail'
    flight_ticket_number:
      $ref: './additional_detail.yaml#/string_detail'
    flight_total_fare:
      $ref: './additional_detail.yaml#/double_precision_detail'
    flight_scheduled_at:
      $ref: './additional_detail.yaml#/timestamp_detail'
    flight_service_class:
      $ref: './additional_detail.yaml#/string_detail'
    flight_carrier_code:
      $ref: './additional_detail.yaml#/string_detail'
    flight_fare_base_code:
      $ref: './additional_detail.yaml#/string_detail'
    flight_trip_leg_number:
      $ref: './additional_detail.yaml#/string_detail'
    hotel_merchant_category_code:
      $ref: './additional_detail.yaml#/string_detail'
    hotel_supplier_name:
      $ref: './additional_detail.yaml#/string_detail'
    hotel_checked_in_at:
      $ref: './additional_detail.yaml#/timestamp_detail'
    hotel_nights:
      $ref: './additional_detail.yaml#/integer_detail'
    hotel_checked_out_at:
      $ref: './additional_detail.yaml#/timestamp_detail'
    hotel_country:
      $ref: './additional_detail.yaml#/string_detail'
    hotel_city:
      $ref: './additional_detail.yaml#/string_detail'
    hotel_total_fare:
      $ref: './additional_detail.yaml#/double_precision_detail'
    fleet_product_merchant_category_code:
      $ref: './additional_detail.yaml#/string_detail'
    fleet_product_supplier_name:
      $ref: './additional_detail.yaml#/string_detail'
    fleet_service_merchant_category_code:
      $ref: './additional_detail.yaml#/string_detail'
    fleet_service_supplier_name:
      $ref: './additional_detail.yaml#/string_detail'
    car_rental_merchant_category_code:
      $ref: './additional_detail.yaml#/string_detail'
    car_rental_supplier_name:
      $ref: './additional_detail.yaml#/string_detail'
    car_rental_started_at:
      $ref: './additional_detail.yaml#/timestamp_detail'
    car_rental_days:
      $ref: './additional_detail.yaml#/integer_detail'
    car_rental_ended_at:
      $ref: './additional_detail.yaml#/timestamp_detail'
    general_ticket_issued_at:
      $ref: './additional_detail.yaml#/timestamp_detail'
    general_ticket_number:
      $ref: './additional_detail.yaml#/string_detail'
    general_issuing_carrier:
      $ref: './additional_detail.yaml#/string_detail'
    general_travel_agency_name:
      $ref: './additional_detail.yaml#/string_detail'
    general_travel_agency_code:
      $ref: './additional_detail.yaml#/string_detail'
    general_ticket_total_fare:
      $ref: './additional_detail.yaml#/double_precision_detail'
    general_ticket_total_tax:
      $ref: './additional_detail.yaml#/double_precision_detail'
    merchant_address:
      $ref: './additional_detail.yaml#/text_detail'
  required:
    - id
    - org_id
    - user_id
    - user
    - created_at
    - updated_at
    - amount
    - currency
    - spent_at
    - description
    - foreign_currency
    - foreign_amount
    - code
    - merchant
    - category
    - corporate_card_id
    - corporate_card
    - settlement_id
    - assignor_user_id
    - assignor
    - is_assigned
    - last_assigned_at
    - is_personal_transaction
    - last_personal_transaction_at
    - is_dismissed
    - last_dismissed_at
    - is_auto_matched
    - auto_matched_expense_ids
    - auto_matched_expenses
    - auto_matched_at
    - user_matched_expense_ids
    - user_matched_expenses
    - last_user_matched_at
    - is_settled
    - last_settled_at
    - merchant_category_code
    - flight_merchant_category_code
    - flight_supplier_name
    - flight_travel_agency_name
    - flight_ticket_number
    - flight_total_fare
    - flight_scheduled_at
    - flight_service_class
    - flight_carrier_code
    - flight_fare_base_code
    - flight_trip_leg_number
    - hotel_merchant_category_code
    - hotel_supplier_name
    - hotel_checked_in_at
    - hotel_nights
    - hotel_checked_out_at
    - hotel_country
    - hotel_city
    - hotel_total_fare
    - fleet_product_merchant_category_code
    - fleet_product_supplier_name
    - fleet_service_merchant_category_code
    - fleet_service_supplier_name
    - car_rental_merchant_category_code
    - car_rental_supplier_name
    - car_rental_started_at
    - car_rental_days
    - car_rental_ended_at
    - general_ticket_issued_at
    - general_ticket_number
    - general_issuing_carrier
    - general_travel_agency_name
    - general_travel_agency_code
    - general_ticket_total_fare
    - general_ticket_total_tax
    - merchant_address

corporate_card_transaction_id_in:
  type: object 
  properties:
    id:
      allOf:
        - $ref: './fields.yaml#/id_string'
      example: btxnwownwrng
  required:
    - id
      
corporate_card_transaction_match_in:
  type: object
  properties:
    id:
      allOf:
        - $ref: './fields.yaml#/id_string'
      example: btxnwownwrng
    expense_ids:
      type: array
      items:
        $ref: './fields.yaml#/id_string'
      example:
        - txwownwrn2
  required:
    - id
    - expense_ids

corporate_card_transaction_unmatch_in:
  type: object
  properties:
    id:
      allOf:
        - $ref: './fields.yaml#/id_string'
      example: btxnwownwrng
    expense_ids:
      type: array
      items:
        $ref: './fields.yaml#/id_string'
      example:
        - txwownwrn2
  required:
    - id
    - expense_ids

corporate_card_transaction_unmatch_out:
  type: object
  properties:
    id:
      allOf:
        - $ref: './fields.yaml#/id_string'
      example: btxnwownwrng
    org_id:
      $ref: './fields.yaml#/org_id'
    user_id:
      $ref: './fields.yaml#/user_id'
    user:
      $ref: './user.yaml#/user_out_embed'
    created_at:
      $ref: './fields.yaml#/created_at'
    updated_at:
      $ref: './fields.yaml#/updated_at'
    amount:
      $ref: './fields.yaml#/amount'
    currency:
      $ref: './fields.yaml#/currency'
    spent_at:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      description: |
        signifies when this card transaction was made.
        This date cannot be in future.
    description:
      type: string
      nullable: true
      description: |
        Holds the description of the card transaction
      example: Team lunch
    foreign_currency:
      $ref: './fields.yaml#/foreign_currency'
    foreign_amount:
      $ref: './fields.yaml#/foreign_amount'
    code:
      $ref: './fields.yaml#/code'
    merchant:
      type: string
      maxLength: 255
      nullable: true
      description: |
        String denoting the name of the vendor to which the card transaction was made.
        Note: This is not same as the merchant added in Fyle but just a string
      example: Uber
    category:
      type: string
      maxLength: 255
      nullable: true
      description: |
        String denoting the category of the card transaction
        Note: This is not same as the category added in Fyle but just a string
      example: Travel
    corporate_card_id:
      allOf:
        - $ref: './fields.yaml#/id_string'
      example: bawownwrng
    corporate_card:
      $ref: './corporate_card.yaml#/corporate_card_out_embed'
    settlement_id:
      nullable: true
      allOf:
        - $ref: './fields.yaml#/id_string'
      example: set7oisw24gju
    assignor_user_id:
      type: string
      description: |
        The unique id of an user who assigned the card transaction.
      nullable: true
      example: uswjwgnwwgo
    assignor:
      $ref: './user.yaml#/user_out_embed'
    is_assigned:
      type: boolean
      description: |
        Determines whether this card transaction is assigned.
    last_assigned_at:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      nullable: true
      description: |
        Signifies when this card transaction was last assigned.
    is_personal_transaction:
      type: boolean
      example: false
      description: |
        Determines whether this card transaction is marked as personal transaction made on the corporate card.
    last_personal_transaction_at:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      nullable: true
      description: |
        Signifies when this card transaction was last marked personal.
    is_dismissed:
      type: boolean
      example: false
      description: |
        Determines whether this card transaction is dismissed.
    last_dismissed_at:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      nullable: true
      description: |
        Signifies when this card transaction was last dismissed.
    is_auto_matched:
      type: boolean
      example: false
      description: |
        Signifies when this card transaction is auto_matched.
    auto_matched_expense_ids:
      type: array
      items:
        $ref: './fields.yaml#/id_string'
      description: |
        Holds the expense ids which are auto-matically matched by the system
      example:
        - txwownwrng
    auto_matched_expenses:
      type: array
      items:
        $ref: './expense.yaml#/matched_expense_out_embed'
    last_auto_matched_at:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      nullable: true
      description: |
        signifies when this expense was auto matched.
    user_matched_expense_ids:
      type: array
      items:
        $ref: './fields.yaml#/id_string'
      description: |
        Holds the expense ids which are matched by the user
      example:
        - null
    user_matched_expenses:
      example: null
    last_user_matched_at:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      nullable: true
      description: |
        signifies when this expense was last matched by user.
    is_settled:
      type: boolean
      description: |
        Determines whether this card transaction is settled.
    last_settled_at:
      allOf:
        - $ref: './fields.yaml#/timestamptz_utc'
      nullable: true
      description: |
        Signifies when this card transaction was last settled.

    # metadata
    merchant_category_code:
      $ref: './additional_detail.yaml#/string_detail'
    flight_merchant_category_code:
      $ref: './additional_detail.yaml#/string_detail'
    flight_supplier_name:
      $ref: './additional_detail.yaml#/string_detail'
    flight_travel_agency_name:
      $ref: './additional_detail.yaml#/string_detail'
    flight_ticket_number:
      $ref: './additional_detail.yaml#/string_detail'
    flight_total_fare:
      $ref: './additional_detail.yaml#/double_precision_detail'
    flight_scheduled_at:
      $ref: './additional_detail.yaml#/timestamp_detail'
    flight_service_class:
      $ref: './additional_detail.yaml#/string_detail'
    flight_carrier_code:
      $ref: './additional_detail.yaml#/string_detail'
    flight_fare_base_code:
      $ref: './additional_detail.yaml#/string_detail'
    flight_trip_leg_number:
      $ref: './additional_detail.yaml#/string_detail'
    hotel_merchant_category_code:
      $ref: './additional_detail.yaml#/string_detail'
    hotel_supplier_name:
      $ref: './additional_detail.yaml#/string_detail'
    hotel_checked_in_at:
      $ref: './additional_detail.yaml#/timestamp_detail'
    hotel_nights:
      $ref: './additional_detail.yaml#/integer_detail'
    hotel_checked_out_at:
      $ref: './additional_detail.yaml#/timestamp_detail'
    hotel_country:
      $ref: './additional_detail.yaml#/string_detail'
    hotel_city:
      $ref: './additional_detail.yaml#/string_detail'
    hotel_total_fare:
      $ref: './additional_detail.yaml#/double_precision_detail'
    fleet_product_merchant_category_code:
      $ref: './additional_detail.yaml#/string_detail'
    fleet_product_supplier_name:
      $ref: './additional_detail.yaml#/string_detail'
    fleet_service_merchant_category_code:
      $ref: './additional_detail.yaml#/string_detail'
    fleet_service_supplier_name:
      $ref: './additional_detail.yaml#/string_detail'
    car_rental_merchant_category_code:
      $ref: './additional_detail.yaml#/string_detail'
    car_rental_supplier_name:
      $ref: './additional_detail.yaml#/string_detail'
    car_rental_started_at:
      $ref: './additional_detail.yaml#/timestamp_detail'
    car_rental_days:
      $ref: './additional_detail.yaml#/integer_detail'
    car_rental_ended_at:
      $ref: './additional_detail.yaml#/timestamp_detail'
    general_ticket_issued_at:
      $ref: './additional_detail.yaml#/timestamp_detail'
    general_ticket_number:
      $ref: './additional_detail.yaml#/string_detail'
    general_issuing_carrier:
      $ref: './additional_detail.yaml#/string_detail'
    general_travel_agency_name:
      $ref: './additional_detail.yaml#/string_detail'
    general_travel_agency_code:
      $ref: './additional_detail.yaml#/string_detail'
    general_ticket_total_fare:
      $ref: './additional_detail.yaml#/double_precision_detail'
    general_ticket_total_tax:
      $ref: './additional_detail.yaml#/double_precision_detail'
    merchant_address:
      $ref: './additional_detail.yaml#/text_detail'
  required:
    - id
    - org_id
    - user_id
    - user
    - created_at
    - updated_at
    - amount
    - currency
    - spent_at
    - description
    - foreign_currency
    - foreign_amount
    - code
    - merchant
    - category
    - corporate_card_id
    - corporate_card
    - settlement_id
    - assignor_user_id
    - assignor
    - is_assigned
    - last_assigned_at
    - is_personal_transaction
    - last_personal_transaction_at
    - is_dismissed
    - last_dismissed_at
    - is_auto_matched
    - auto_matched_expense_ids
    - auto_matched_expenses
    - auto_matched_at
    - user_matched_expense_ids
    - user_matched_expenses
    - last_user_matched_at
    - is_settled
    - last_settled_at
    - merchant_category_code
    - flight_merchant_category_code
    - flight_supplier_name
    - flight_travel_agency_name
    - flight_ticket_number
    - flight_total_fare
    - flight_scheduled_at
    - flight_service_class
    - flight_carrier_code
    - flight_fare_base_code
    - flight_trip_leg_number
    - hotel_merchant_category_code
    - hotel_supplier_name
    - hotel_checked_in_at
    - hotel_nights
    - hotel_checked_out_at
    - hotel_country
    - hotel_city
    - hotel_total_fare
    - fleet_product_merchant_category_code
    - fleet_product_supplier_name
    - fleet_service_merchant_category_code
    - fleet_service_supplier_name
    - car_rental_merchant_category_code
    - car_rental_supplier_name
    - car_rental_started_at
    - car_rental_days
    - car_rental_ended_at
    - general_ticket_issued_at
    - general_ticket_number
    - general_issuing_carrier
    - general_travel_agency_name
    - general_travel_agency_code
    - general_ticket_total_fare
    - general_ticket_total_tax
    - merchant_address
