preview_in:
  type: object
  properties:
    id:
      allOf:
        - $ref: './fields.yaml#/id_string'
      example: stmtadfdsdf
    statement_mapping:
      type: object
      properties:
        transaction_date:
          type: string
          description: |
            Specifies the mapping of transaction date on the statement.
          example: txn date
        transaction_id:
          type: string
          description: |
            Specifies the mapping of transaction id / unique id on the statement.
          example: reference number
          nullable: true
        amount:
          type: string
          description: |
            Specifies the mapping of amount on the statement.
          example: amount
        card_number:
          type: string
          description: |
            Specifies the mapping of card number on the statement.
          example: account number
        foreign_amount:
          type: string
          description: |
            Specifies the mapping of foreign amount on the statement.
          example: foreign amount
          nullable: true
        foreign_currency:
          type: string
          description: |
            Specifies the mapping of foreign currency on the statement.
          example: foreign currency
          nullable: true
        statement_bank_name:
          type: string
          description: |
            Specifies the bank name of the statement
          example: American Express
        statement_is_debit_positive:
          type: boolean
          description: |
            Specifies the representation of the the amount in the statement, if true then the amount represented by |
            negative sign are credits, and if false then the amount represented by negative sign are debits.
          example: true
        currency:
          type: string
          description: |
            Specifies the currency used in the statement.
          example: USD
        name:
          type: string
          description: |
            Specifies the mapping name.
          example: USD
    ignored_line_items:
      type: array
      items: 
        type: string
      description: >
        This specifies list of line items to be ignored in the statement.
      example:
        - stlisfdfadssd
  required:
    - id
    - statement_mapping
    - ignored_line_items

preview_out:
  type: array
  items: 
    type: object
    properties:
      statement_bank_name:
        type: string
        description: |
          Specifies the bank name of the statement
        example: American Express
      vendor:
        type: string
        description: |
          Specifies the vendor of the statement
        example: Amazon
      transaction_date:
        $ref: './fields.yaml#/timestamptz_utc'
        description: |
          Specifies the transaction date on the statement.
      statement_is_debit_positive:
        type: boolean
        description: |
          Specifies the representation of the the amount in the statement, if true then the amount represented by |
          negative sign are credits, and if false then the amount represented by negative sign are debits.
        example: true
      amount:
        type: integer
        description: |
          Specifies the amount on the statement.
        example: 30
      card_number:
        type: string
        description: |
          Specifies the card number on the statement.
        example: xxxx-3343
      unique_key:
        type: string
        description: |
          Specifies the unique code / transaction id on the statement.
        example: ed0b2aa913c54b3f903a5030208e1872
      foreign_amount:
        type: integer
        description: |
          Specifies the foreign amount on the statement.
        example: 48
      foreign_currency:
        type: string
        description: |
          Specifies the foreign currency on the statement.
        example: USD
  required:
    - statement_bank_name
    - vendor
    - transaction_dt
    - statement_is_debit_positive
    - amount
    - card_number
    - code
    - foreign_amount
    - foreign_currency